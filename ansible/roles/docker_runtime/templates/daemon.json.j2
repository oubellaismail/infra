{
  "log-driver": "{{ (docker.daemon_options['log-driver'] | default('json-file')) if docker is defined else 'json-file' }}",
  "log-opts": {
{% if docker is defined and docker.daemon_options is defined and docker.daemon_options['log-opts'] is defined %}
{% for key, value in docker.daemon_options['log-opts'].items() %}
    "{{ key }}": "{{ value }}"{% if not loop.last %},{% endif %}
{% endfor %}
{% else %}
    "max-size": "10m",
    "max-file": "3"
{% endif %}
  },
  "storage-driver": "overlay2",
  "metrics-addr": "127.0.0.1:9323",
  "experimental": false,
  "live-restore": true
}